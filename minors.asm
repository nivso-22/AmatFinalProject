.586
IDEAL
MODEL small
STACK 100h
jumps

DATASEG
board_extra_hard dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h ; 100 mines 
dw 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0f000h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h 
dw 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0ff00h 
dw 0f000h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0f000h 
dw 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0f000h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h 
dw 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h 
dw 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h 
dw 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0f000h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h 
dw 0f000h, 0ff00h, 0ff00h, 0f000h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h 
dw 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0ff00h

board_hard dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h ; 60 mines
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0f000h 
dw 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0f000h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h 
dw 0ff00h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0f000h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 

board_medium dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h ; 30 mines
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h 
dw 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0f000h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h 

board_easy dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h ; 12 mines
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0f000h, 0ff00h, 0ff00h 

board dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h ; 0 mines, default
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 
dw 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h, 0ff00h 




openScreen   db 'MINESWEEPER ', 10, 13
             db 'YOU KNOW HOW MINE SWEEPER WORKS', 10, 13
             db 'if you dont:', 10, 13
             db '* there are mines', 10, 13
             db '* you sweep them', 10, 13
             db ' ', 10, 13
             db 'ok ok you want to know the controls you didnt say that you said how you play ', 10, 13
             db '* left-click opens a tile and all adjacent empty tile up to the first line of numbers', 10, 13
             db '* a number on a tile corresponds with the number of adjacent mines', 10, 13
             db '* you mark a mine with a flag by hitting right click ', 10, 13
             db '* if you left-click a mine you fucking die', 10, 13
             db 'GOOD LUCK', 10, 13
             db ' ', 10, 13
             db ' ', 10, 13
             db ' ', 10, 13,'$'
             
             
boardSelect db 'select board', 10, 13
            db 'easy - 12 mines - press e', 10, 13
            db 'medium - 30 mines - press m', 10, 13
            db 'hard - 60 mines - press h', 10, 13
            db 'extra hard - 100 mines - press d(for death)', 10, 13, '$'
             
             
winscreen db 'you won', 13,10,'$'



rowEnd db 13, 10, '$'  ; New line characters for DOS


tile dw 0000h;?????????? ??????????
color dw 8h;?????? ????????????
hover_color dw 0fh; ?????? ???????? ???????????? ?????? ??????????
counter db 0;???????????? ???????????? ??????????????
read_x db 0;X ????????
read_y db 0;Y ????????
mouse_state dw 0; ?????? ????????
ten dw 10; ?????? ?????????? ??????????
index_in_board dw 0; ???????????? ?????????????? ???? ?????????? ??????????
x_flag db 0;X ???? ??????
y_flag db 0;Y ???? ??????

minesplaced db 0d;???????????? ????????????
x_dig db 0;X ???? ????????
y_dig db 0;Y ???? ????????
num_color dw 0;?????? ????????

index dw 0; ???????????? ??????????????
corrects dw 0;?????????? ????????????
boardoffset dw 0; ?????????? ???????? ??????????

CODESEG
proc printboard;???????? ???? ???? ?????????? ???????????? ????????
    pusha
    mov si, [boardoffset]
    mov cx, 20
    

row_loop:
    mov bx, 20; Total elements in the matrix
    column_loop:
    mov ax, [si]
    add ax, '0'
    mov dl, ah
    mov ah, 02h
    int 21h
    
    add si, 2 
    dec bx
    cmp bx, 0
    jg column_loop 
    mov dx, offset rowEnd
    mov ah, 9h
    int 21h
    loop row_loop



    popa
    ret
    endp printboard 
    
    
proc draw_pixel;?????????? ??????????
pusha

    xor bh, bh  ; bh = 0
    mov cx, [tile]
    mov dl, ch
    mov dh, 0
    mov ch, 0
    mov ax, [color]
    mov ah, 0ch
    int 10h
popa 
ret
endp draw_pixel

proc draw_pixel_flag; ?????????? ?????????? ????????
pusha

    xor bh, bh  ; bh = 0
    xor cx, cx
    xor dx, dx
    mov dl, [y_flag]
    mov cl, [x_flag]
    mov ax, [color]
    mov ah, 0ch
    int 10h
popa 
ret
endp draw_pixel_flag

proc draw_pixel_digit;?????????? ?????????? ??????????
;lord forgive me for im about to sin
pusha

    xor bh, bh
    xor cx, cx
    xor dx, dx
    mov dl, [y_dig]
    mov cl, [x_dig]
    mov ax, [num_color]
    mov ah, 0ch
    int 10h
popa 
ret
endp draw_pixel_digit

;; prepare your skull emojis

proc d1;?????????? ???? ?????????? 1
add [x_dig], 3
add [y_dig], 3
call draw_pixel_digit
add [y_dig], 1
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
inc [x_dig]
inc [y_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
dec [x_dig]
inc [y_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
ret
endp d1

proc d2;?????????? ???? ?????????? 2
add [x_dig], 3
add [y_dig], 3
call draw_pixel_digit
inc [x_dig]
dec [y_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
inc [y_dig]
call draw_pixel_digit
dec [x_dig]
inc [y_dig]
call draw_pixel_digit
dec [x_dig]
inc [y_dig]
call draw_pixel_digit
dec [x_dig]
inc [y_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
ret
endp d2

proc d3;?????????? ???? ?????????? 3
add [x_dig], 3
add [y_dig], 2
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
inc [y_dig]
call draw_pixel_digit
dec [x_dig]
inc [y_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
add [x_dig], 2
inc [y_dig]
call draw_pixel_digit
dec [x_dig]
inc [y_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
ret
endp d3

proc d4;?????????? ???? ?????????? 4
add [x_dig], 3
add [y_dig], 2
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
inc [y_dig] 
call draw_pixel_digit
sub [y_dig], 5h
inc [y_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
ret
endp d4

proc d5;?????????? ???? ?????????? 5
add [x_dig], 5
add [y_dig], 2
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
dec [x_dig]
inc [y_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
inc [y_dig]
call draw_pixel_digit
dec [x_dig]
inc [y_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
ret
endp d5

proc d6;?????????? ???? ?????????? 6
add [x_dig], 5
add [y_dig], 2
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
dec [y_dig]
call draw_pixel_digit
ret
endp d6

proc d7;?????????? ???? ?????????? 7
add [x_dig], 3
add [y_dig], 2
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
dec [x_dig]
inc [y_dig]
call draw_pixel_digit
dec [x_dig]
inc [y_dig]
call draw_pixel_digit 
inc [y_dig]
call draw_pixel_digit
ret
endp d7

proc d8;?????????? ???? ?????????? 8
add [x_dig], 5
add [y_dig], 3
call draw_pixel_digit
dec [y_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [x_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
inc [y_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
dec [x_dig]
call draw_pixel_digit
dec [y_dig]
call draw_pixel_digit
ret
endp d8
;; why did i do this

proc draw_digits;?????????? ???? ???????? ???? ?????????? ???????? ?????? ???????? ?????? ???????????????? ?????????? ????????????
pusha
cmp [num_color], 0
je finish_drawing
cmp [num_color], 1
je n1
cmp [num_color], 2
je n2
cmp [num_color], 3
je n3
cmp [num_color], 4
je n4
cmp [num_color], 5
je n5
cmp [num_color], 6
je n6
cmp [num_color], 7
je n7
cmp [num_color], 8
je n8

n1:
call d1
jmp finish_drawing
n2:
call d2
jmp finish_drawing
n3:
call d3
jmp finish_drawing
n4:
call d4
jmp finish_drawing
n5:
call d5
jmp finish_drawing
n6:
call d6
jmp finish_drawing
n7:
call d7
jmp finish_drawing
n8:
call d8
jmp finish_drawing
finish_drawing:

popa
ret
endp draw_digits



proc draw_tile;?????????? ???? ????????

pusha;???????? ???? ?????????? ?????????? ???? ???????? ??10 ?????????????? ?????? ??????????
call readmouse
mov cx, [tile]
add cx, 10
sub cl, [read_x]
cmp cl, 10
jb row
jmp not_hover
row:
mov dx, [tile] 
add dh, 10
sub dh, [read_y]
cmp dh, 10
jb hover
jmp not_hover
hover:;???? ???? ???? ?????? ???????????? ???????? ??????
mov [hover_color], 0fh
call readmouse
cmp [mouse_state], 1h
je left_click
cmp [mouse_state], 2h
je right_click
jmp begin
left_click:
call leftclick
jmp begin
right_click:
call rightclick
jmp begin
not_hover:
;???? ?????????? ???????? ???? ?????????? ???????? ??????????
call getindex
mov [hover_color], 8h
mov si, [index_in_board]
mov ax, [si]
cmp ah, 0d0h
je revealed
jmp is_mine

revealed: 
mov [hover_color], 7h
jmp begin
;???? ??????????, ???????? ???????? ???? ???????????? ?????????? ??????????
is_mine:
call getindex
mov si, [index_in_board]
mov ax, [si]
cmp ah, 0f0h 
jne begin
;mov [hover_color], 0h;remove for game


begin:

;?????????? ???? ??????????
mov cx, 10d
line_1:
call draw_pixel
inc [tile]
loop line_1

sub [tile], 10d
add [tile],100h

call draw_pixel
inc [tile]
mov cx, 8d
mov ax, [hover_color]
mov [color], ax


line_2:
call draw_pixel
inc [tile] 
loop line_2

mov [color], 7h
call draw_pixel


sub [tile], 9d
add [tile],100h

call draw_pixel
inc [tile]

mov cx, 8d
mov ax, [hover_color]
mov [color], ax

line_3:
call draw_pixel
inc [tile]
loop line_3

mov [color], 7h
call draw_pixel

sub [tile], 9d
add [tile],100h

call draw_pixel
inc [tile]

mov cx, 8d
mov ax, [hover_color]
mov [color], ax

line_4:
call draw_pixel
inc [tile]
loop line_4
mov [color], 7h
call draw_pixel


sub [tile], 9d
add [tile],100h


call draw_pixel
inc [tile]
mov cx, 8d
mov ax, [hover_color]
mov [color], ax



line_5:
call draw_pixel
inc [tile]
loop line_5

mov [color], 7h
call draw_pixel


sub [tile], 9d
add [tile],100h

call draw_pixel
inc [tile]
mov cx, 8d
mov ax, [hover_color]
mov [color], ax

line_6:
call draw_pixel
inc [tile]
loop line_6

mov [color], 7h
call draw_pixel


sub [tile], 9d
add [tile],100h

call draw_pixel
inc [tile]
mov cx, 8d
mov ax, [hover_color]
mov [color], ax

line_7:
call draw_pixel
inc [tile]
loop line_7

mov [color], 7h
call draw_pixel


sub [tile], 9d
add [tile],100h

call draw_pixel
inc [tile]
mov cx, 8d
mov ax, [hover_color]
mov [color], ax

line_8:
call draw_pixel
inc [tile]
loop line_8

mov [color], 7h
call draw_pixel


sub [tile], 9d
add [tile],100h

call draw_pixel
inc [tile]
mov cx, 8d
mov ax, [hover_color]
mov [color], ax

line_9:
call draw_pixel
inc [tile]
loop line_9

mov [color], 7h
call draw_pixel


sub [tile], 9d
add [tile],100h

 
mov cx, 10d
line_10:
call draw_pixel
inc [tile]
loop line_10

sub [tile], 90ah


;???????? ???? ?????????? ???????????? ???? ?????? ?????? ???? ?????????? ????????
call getindex
mov si, [index_in_board]
mov ax, [si]
cmp al, 0e0h
jne finish
mov bx, [tile]
mov [y_flag], 3
add [y_flag], bh
mov [x_flag], bl
call drawflag




finish:


;?????????? ???? ???????? ???? ?????????? ???? ?????????? ???? ?????? ????????.???????? ??0
call getindex
mov ax, [index_in_board]
mov [index], ax
call get_tile_number

mov si, [index_in_board]
mov ax, [si]
cmp ah, 0d0h
jne finish1
xor bx,bx
mov bl, al
mov [num_color], bx
mov bx, [tile]
mov [x_dig], bl
mov [y_dig], bh
call draw_digits
mov [x_dig], 0
mov [y_dig], 0
finish1:
mov [color], 7h
popa
ret
endp draw_tile



proc draw_board;?????????? ???? ???????? ??"?? ???????? 20*20 ?????????????? ?????????? ????????????
pusha
mov ax,2h
int 33h
mov cx, 20
mov [counter], 0
line1:
call draw_tile

add [tile], 10d
loop line1
add [tile], 938h
inc [counter]
mov cx, 20
cmp [counter], 20
jl line1
mov [tile], 0
call checkwin
popa
ret
endp draw_board

proc readmouse;???????? ???? ??????????


pusha
mov ax,3h
int 33h
shr cx, 1
mov [read_x], cl
mov [read_y], dl
mov [mouse_state], bx
popa
ret
endp readmouse;

proc reveal
;???????? ???? ?????????? ?????????? ???? ?????????? ??????, ???? ???? 0, ???? ?????? ???????? ???? ???????? ?????????? ???? ???? ?????????????? ???????? ???????? ?????? ?????????? ??????????????

pusha
mov si, [index]
mov bx, [si]
mov bh, 0d0h

mov [si], bx
call get_tile_number
cmp bl,1h
jae next3
mov ax, [si+2]
cmp ah,0ffh
jne next
mov[index], si
add [index], 2
call reveal
sub [index], 2

next:
mov ax, [si-2]
cmp ah,0ffh
jne next1
mov[index], si
sub [index], 2
call reveal
add [index], 2
next1:
mov ax, [si-40]
cmp ah,0ffh
jne next2
mov[index], si
sub [index], 40
call reveal
add [index], 40
next2:
mov ax, [si+40]
cmp ah,0ffh
jne next3
mov[index], si
add [index], 40
call reveal
sub [index], 40
next3:

popa
ret
endp reveal



proc leftclick;???????? ????????
pusha
mov [hover_color], 4h
call getindex
mov si, [index_in_board]
mov ax, [si]
cmp ah, 0f0h
je exit 
mov [index], si
call reveal        ;
popa
ret
endp leftclick

proc rightclick;???????? ?????? ?????????? ???? ?????? ?????????? ????????

pusha
mov [hover_color], 9h
call getindex
mov si, [index_in_board]
mov bx, [si]
cmp bh, 0f0h
jne incorrect
inc [corrects]
incorrect:
mov al, 0e0h
cmp bl, al
je endrc
mov bl, al
mov [si], bx   

endrc:      
popa
ret
endp rightclick

proc getindex;?????? ???? ???????????? ?????????????? ???? ???????????? ???????????? ???????? ???????????????? ?????? ???? ?????????? ???? ???? ?????????? ???????????? ???????????? ??????'
pusha
mov si, [index_in_board]
mov bx, [tile]
mov ch, 0
mov cl, bh
mov bh, 0

mov ax, cx
mov cx, 4h
mul cx
mov cx, ax


mov ax, bx
mov bx, [ten]
xor dx, dx
div bx  
mov bx, ax 

mov si, [boardoffset]
add si, cx

add si, bx
add si, bx

mov [index_in_board], si
mov si, 0h
popa
ret
endp getindex

proc waitforchar;???????? ??????
pusha
mov ah, 0h
int 16h
popa
ret
endp waitforchar

proc drawflag;?????????? ???? ????????
pusha
    add [x_flag], 3
    mov [color], 4h
    call draw_pixel_flag
    inc [x_flag]
    call draw_pixel_flag
    dec [y_flag]
    call draw_pixel_flag
    mov [color], 14h
    inc [x_flag]
    call draw_pixel_flag
    inc [y_flag]
    call draw_pixel_flag
    inc [y_flag]
    call draw_pixel_flag
    inc [y_flag]
    call draw_pixel_flag
    inc [y_flag]
    call draw_pixel_flag
    inc [y_flag]
    call draw_pixel_flag
    inc [x_flag]
    call draw_pixel_flag
    inc [x_flag]
    call draw_pixel_flag
    sub [x_flag], 3
    call draw_pixel_flag
    dec [x_flag]
    call draw_pixel_flag
    mov [color], 7h
    mov [x_flag], 0
    mov [y_flag], 0
popa    
ret
endp drawflag



proc get_tile_number;???????? ???? ?????????? ???? ?????????? ?????? ???????? ???????? ???? ???????? ?????????????? ???????? ?????? ????????
pusha

mov si, [index]
mov ax, [si]
cmp ah, 0f0h
je no_num
mov ax, [si]
cmp al, 0e0h
je no_num



mov ax, [si+2]
call addoneif

mov ax, [si-2]
call addoneif

mov ax, [si+40]
call addoneif

mov ax, [si-40]
call addoneif

mov ax, [si+42]
call addoneif

mov ax, [si-38]
call addoneif

mov ax, [si-42]
call addoneif

mov ax, [si+38]
call addoneif


mov ax, [si]
mov al, cl
mov [si], ax 


no_num:
popa
ret 
endp get_tile_number

proc addoneif;?????????? 1 ???????? ????????
cmp ah, 0f0h
jne dont_add

inc cx
dont_add:

ret
endp addoneif

proc checkwin;?????????? ???? ???????? ???????????? ?????????????? ?????????? ??????????????
pusha
    mov ax, [corrects]
    cmp al, [minesplaced]
    jne nowin
    mov ah, 00h
    mov al, 03h
    int 10h
    mov dx, offset winscreen
    mov ah, 9h
    int 21h
    jmp exit
nowin:
    
popa
ret
endp checkwin


start:
    mov ax, @data
    mov ds, ax
    
    call printboard;?????????? ???? ?????????? ?????????????? ????????
    mov ax, 0h
    int 33h
    mov ax,1h
    int 33h
    
    ;???????????? ???? ?????? ????????????
    mov dx, offset openScreen
    mov ah, 9h
    int 21h
    
    mov dx, offset boardSelect;?????????? ???? ???????? ??????????
    mov ah, 9h
    int 21h
    mov ah, 0
    int 16h
    mov cx, 20 
    cmp al, 'e'
    je easy
    cmp al, 'm'
    je medium
    cmp al, 'h'
    je hard
    cmp al, 'd'
    je extra_hard
    
easy:    
    mov si, offset board_easy
    mov [boardoffset], si
    mov [minesplaced], 13
jmp startgame

medium:    
    mov si, offset board_medium
    mov [boardoffset], si
    mov [minesplaced], 31
jmp startgame

hard:    
    mov si, offset board_hard
    mov [boardoffset], si
    mov [minesplaced], 61
jmp startgame

extra_hard:    
    mov si, offset board_extra_hard
    mov [boardoffset], si
    mov [minesplaced], 101
jmp startgame

    
startgame:
   
    mov ax, 13h
    int 10h
    call draw_board
    
    gameloop: ;?????????? ???????? ???????????? ???? ???????? ?????? ???????? ???? ?????????? ??????????
    
    call draw_board
    call readmouse
    cmp [mouse_state], 3
    je out1
    
    jmp gameloop;
    
    out1: 
    mov ax, 2h
    int 10h
    call printboard

exit:
    mov ax, 4c00h
    int 21h
    END start